{"version":3,"sources":["../../../../build/webpack/plugins/middleware-plugin.ts"],"names":["handleWebpackExternalForEdgeRuntime","MiddlewarePlugin","constructor","dev","sriEnabled","hasFontLoaders","allowMiddlewareResponseBody","apply","compiler","hooks","compilation","tap","NAME","params","normalModuleFactory","codeAnalyzer","getCodeAnalyzer","parser","for","metadataByEntry","Map","finishModules","tapPromise","getExtractMetadata","processAssets","name","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","getCreateAssets","opts","isUsingIndirectEvalAndUsedByExports","args","moduleGraph","runtime","module","usingIndirectEval","wp","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","getEntryFiles","entryFiles","meta","files","edgeSSR","isServerComponent","push","FLIGHT_MANIFEST","FLIGHT_SERVER_CSS_MANIFEST","SUBRESOURCE_INTEGRITY_MANIFEST","filter","file","startsWith","endsWith","map","replace","NEXT_CLIENT_SSR_ENTRY_SUFFIX","MIDDLEWARE_BUILD_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","FONT_LOADER_MANIFEST","assets","middlewareManifest","sortedMiddleware","middleware","functions","version","entrypoint","entrypoints","values","metadata","get","page","edgeMiddleware","edgeApiFunction","namedRegex","getNamedMiddlewareRegex","isAppDir","normalizeAppPath","catchAll","matchers","regexp","edgeFunctionDefinition","env","Array","from","getFiles","wasm","wasmBindings","filePath","assetBindings","regions","getSortedRoutes","Object","keys","MIDDLEWARE_MANIFEST","sources","RawSource","JSON","stringify","buildWebpackError","message","loc","entryModule","error","WebpackError","state","current","isInMiddlewareLayer","layer","isInMiddlewareFile","test","rawRequest","isNullLiteral","expr","value","isUndefinedIdentifier","isProcessEnvMemberExpression","memberExpression","object","type","property","isNodeJsModule","moduleName","require","builtinModules","includes","isDynamicCodeEvaluationAllowed","fileName","edgeFunctionConfig","rootDir","isMatch","unstable_allowDynamicGlobs","buildUnsupportedApiError","apiName","rest","start","line","registerUnsupportedApiHooks","expression","EDGE_UNSUPPORTED_NODE_APIS","warnForUnsupportedApi","node","warnings","call","callMemberChain","expressionMemberChain","warnForUnsupportedProcessApi","callee","handleExpression","optimize","InnerGraph","onUsage","used","buildInfo","getModuleBuildInfo","Set","handleWrapExpression","ConstDependency","dependencies","dep1","range","addPresentationalDependency","dep2","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","addUsedEnvVar","envVarName","nextUsedEnvVars","undefined","add","handleCallMemberChain","_","members","length","handleNewResponseExpression","firstParameter","arguments","errors","handleImport","source","importLocByPath","importedModule","toString","set","sourcePosition","identifier","sourceContent","skip","prefix","new","importCall","import","declarator","init","id","properties","key","findEntryEdgeFunctionConfig","entryDependency","resolver","request","absolutePagePath","URL","searchParams","pageFilePath","Promise","resolve","err","path","config","getPageStaticInfo","nextConfig","isDev","clear","resolverFactory","telemetry","traceGlobals","entryName","entry","entries","options","EDGE_RUNTIME_WEBPACK","getResolvedModule","modules","addEntriesFromDependency","dependency","getModule","forEach","includeDependencies","entryMetadata","ogImageGenerationCount","resource","hasOGImageGeneration","util","getEntryRuntime","record","eventName","payload","fileWithDynamicCode","userRequest","join","nextEdgeSSR","nextEdgeMiddleware","nextEdgeApiFunction","envName","nextWasmMiddlewareBinding","nextAssetMiddlewareBinding","conn","getOutgoingConnections","EVENT_BUILD_FEATURE_USAGE","featureName","invocationCount","context","contextInfo","getResolve","issuerLayer"],"mappings":"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"}